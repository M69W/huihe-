webpackJsonp([293],{"2nLR":function(t,a,e){var i=e("kX/J");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("36254008",i,!0,{})},NE7z:function(t,a,e){"use strict";var i=e("W3Iv"),n=e.n(i);a.a={name:"activity-code-maintain-edit-keepAlive",data:function(){return{formData:{brandId:"",brandName:"",activityId:"",activityName:"",pipeLine:"",ruleName:"",ruleBody:"",ruleCode:""},page:1,pageNum:0,rule:{},columns1:[{type:"selection",align:"center"},{title:"序号",type:"index",width:80,align:"center"},{title:"加码名称",key:"ruleCode",align:"center"}],pageData:[],type:null,brandList:[],activityList:[],isEdit:!1}},created:function(){var a=this,e=this;this.Global.doPostNoLoading("condition/queryBrands.json",{},function(t){a.brandList=[],n()(t).forEach(function(t){a.brandList.push({id:Number(t[0]),brandName:t[1]})})});var t=this.$route.query.type,i=this.$route.query.id;t&&(this.type=t),i&&this.Global.doPost("qrCodeRule/queryQrCodeRuleInfo.json",i,function(t){e.isEdit=!0,e.formData.id=t.id,e.formData.brandId=t.brandId,e.formData.brandName=t.brandName,e.formData.activityId=t.activityId,e.formData.activityName=t.activityName,e.formData.ruleName=t.ruleName,e.formData.ruleBody=t.ruleBody,e.formData.ruleCode=t.ruleCode,e.formData.pipeLine=t.pipeLine})},mounted:function(){},methods:{handleSave:function(t){var a=this;this.$refs[t].validate(function(t){t?a.init():a.$Message.error("请选择查询条件!!")})},changePage:function(t){this.init(t,10)},init:function(t,a){var e=this,i=this.Global.JsonChange(this.formData);this.Global.deleteEmptyProperty(i);var n=void 0;"add"==this.type?n="qrCodeRule/doSave.json":"edit"==this.type&&(n="qrCodeRule/doUpdate.json"),this.Global.doPost(n,i,function(t){e.$router.push({path:"/activityCodeMaintain"})})},goBack:function(){this.$router.back()},changeValue:function(t){var a=this;this.activityList=[];for(var e=0;e<this.brandList.length;e++)if(this.brandList[e].id==t){this.formData.brandName=this.brandList[e].brandName,this.formData.brandId=this.brandList[e].id,this.vendorName=this.brandList[e].vendorName;break}this.Global.getActivityList(t,function(t){a.activityList=t.datalist})},activityChangeValue:function(t){for(var a=0;a<this.activityList.length;a++)if(this.activityList[a].id==t){this.formData.activityName=this.activityList[a].name,this.formData.activityId=this.activityList[a].id;break}},handleCreateCode:function(){this.$router.push({path:"/productDownloadCode"})}}}},"TN/U":function(t,a,e){"use strict";var i={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Main"}},[i("h2",{staticClass:"Title"},[e._v("活动码包-新增")]),e._v(" "),i("div",{staticClass:"box"},[i("Form",{ref:"form",attrs:{model:e.formData,"label-width":80,rules:e.rule}},[i("Row",[i("Col",{attrs:{span:"11"}},[i("Form-item",{attrs:{label:"品牌名称",prop:"brandId"}},[i("Select",{attrs:{placeholder:"请选择",disabled:e.isEdit},on:{"on-change":e.changeValue},model:{value:e.formData.brandId,callback:function(t){e.$set(e.formData,"brandId",t)},expression:"formData.brandId"}},e._l(e.brandList,function(t,a){return i("Option",{key:a,attrs:{value:t.id}},[e._v(e._s(t.brandName))])}))],1),e._v(" "),i("Form-item",{attrs:{label:"活动名称"}},[i("Select",{attrs:{placeholder:"请选择",disabled:e.isEdit},on:{"on-change":e.activityChangeValue},model:{value:e.formData.activityId,callback:function(t){e.$set(e.formData,"activityId",t)},expression:"formData.activityId"}},e._l(e.activityList,function(t,a){return i("Option",{key:a,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),i("Form-item",{attrs:{label:"码包名称"}},[i("Input",{model:{value:e.formData.ruleName,callback:function(t){e.$set(e.formData,"ruleName",t)},expression:"formData.ruleName"}})],1)],1),e._v(" "),i("Col",{attrs:{span:"11",offset:"1"}},[i("Form-item",{attrs:{label:"流水线"}},[i("Input",{attrs:{placeholder:"请输入..."},model:{value:e.formData.pipeLine,callback:function(t){e.$set(e.formData,"pipeLine",t)},expression:"formData.pipeLine"}})],1),e._v(" "),i("Form-item",{attrs:{label:"备注说明"}},[i("Input",{attrs:{placeholder:"请输入..."},model:{value:e.formData.ruleBody,callback:function(t){e.$set(e.formData,"ruleBody",t)},expression:"formData.ruleBody"}})],1),e._v(" "),i("Form-item",{attrs:{label:"规则编码"}},[i("Input",{attrs:{placeholder:"请输入..."},model:{value:e.formData.ruleCode,callback:function(t){e.$set(e.formData,"ruleCode",t)},expression:"formData.ruleCode"}})],1)],1)],1)],1),e._v(" "),i("footer",[i("Button",{attrs:{type:"info"},on:{click:e.goBack}},[e._v("取消")]),e._v(" "),i("Button",{attrs:{type:"success"},on:{click:function(t){e.handleSave("form")}}},[e._v("保存")]),e._v(" "),i("Button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{type:"primary"},on:{click:e.handleCreateCode}},[e._v("生成并保持码包")])],1)],1)])},staticRenderFns:[]};a.a=i},W3Iv:function(t,a,e){t.exports={default:e("wEtr"),__esModule:!0}},g8DX:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("NE7z"),n=e("TN/U");var o=function(t){e("2nLR")},r=e("VU/8")(i.a,n.a,!1,o,"data-v-17df636d",null);a.default=r.exports},gSvA:function(t,a,e){var i=e("kM2E"),n=e("mbce")(!0);i(i.S,"Object",{entries:function(t){return n(t)}})},"kX/J":function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,'.box[data-v-17df636d]{margin:0 auto;padding:0;min-width:1135px}button[data-v-17df636d]{outline:none;list-style:none;border:0;cursor:pointer}button#success[data-v-17df636d]{color:#19be6b;background:transparent}button#fail[data-v-17df636d]{color:#ed3f14;background:transparent}button#primary[data-v-17df636d]{color:#ff8a34;background:transparent}button.down[data-v-17df636d],button.up[data-v-17df636d]{color:#ff8a34}button.down[data-v-17df636d]:after{content:"\\F116"}button.up[data-v-17df636d]:after{content:"\\F124"}#bottonFather[data-v-17df636d]{display:flex;justify-content:center;align-items:center}.lookDetail[data-v-17df636d]{background:#febf00;border-color:#febf00;color:#fff}.ml20[data-v-17df636d]{margin-left:20px}.w18[data-v-17df636d]{width:17.5%}.w10[data-v-17df636d]{width:12.5%}.w36[data-v-17df636d]{width:35%}.fs12[data-v-17df636d]{font-size:12px}.fs14[data-v-17df636d]{font-size:14px}.fs16[data-v-17df636d]{font-size:16px}.fs28[data-v-17df636d]{font-size:28px}.text-center[data-v-17df636d]{text-align:center}.block[data-v-17df636d]{display:block}.container[data-v-17df636d]:after{display:block;clear:both;content:"";visibility:hidden;height:0}.container[data-v-17df636d]{zoom:1}.text-overflow[data-v-17df636d]{display:inline-block;max-width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}input[data-v-17df636d]::-ms-input-placeholder{text-align:center!important}input[data-v-17df636d]::-webkit-input-placeholder{text-align:center!important}.displayGroupPrimary[data-v-17df636d]{color:#ff8a34}.demo-spin-icon-load[data-v-17df636d]{animation:ani-demo-spin-data-v-17df636d 1s linear infinite}@keyframes ani-demo-spin-data-v-17df636d{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}#Main[data-v-17df636d]{height:100%}#Main .main-container[data-v-17df636d]{padding-top:10px;min-height:100%;position:relative;background:#fff;padding-bottom:60px;min-width:1135px}#Main .main-container .page-box[data-v-17df636d]{overflow:hidden;position:absolute;bottom:10px;right:10px}#Main .main-container .searchBox[data-v-17df636d]{overflow:hidden}#Main .main-container .searchBox .search-left[data-v-17df636d],#Main .main-container .searchBox .search-right[data-v-17df636d]{width:48%}#Main .main-container .searchBox .search-left button[data-v-17df636d]{outline:none;border:none;width:60px;height:30px;line-height:30px;background:#fff;margin-left:8px;cursor:pointer;color:#ff8a34}#Main .main-container .searchBox .search-right[data-v-17df636d]{width:52%}#Main .main-container .searchBox .search-right img[data-v-17df636d]{cursor:pointer;margin-left:6px}#Main .main-container .numColor[data-v-17df636d]{color:#ff8a34}.box[data-v-17df636d]{width:100%;box-shadow:0 0 10px 2px rgba(0,0,0,.1);margin:0 auto 15px;padding:30px 20px;padding-bottom:0;background:#fff}.box .title[data-v-17df636d]{float:left}.box .title span[data-v-17df636d]{display:inline-block;height:150px;line-height:150px}.box .table[data-v-17df636d]{float:left;margin-left:30px}.ivu-table-row[data-v-17df636d]{box-shadow:0 0 5px 2px rgba(0,0,0,.1)!important;transform:translateY(0)}footer[data-v-17df636d]{text-align:center;margin:40px 0 20px;padding-bottom:30px}footer button[data-v-17df636d]{margin-right:20px}',""])},mbce:function(t,a,e){var s=e("lktj"),l=e("TcQ7"),f=e("NpIQ").f;t.exports=function(d){return function(t){for(var a,e=l(t),i=s(e),n=i.length,o=0,r=[];o<n;)f.call(e,a=i[o++])&&r.push(d?[a,e[a]]:e[a]);return r}}},wEtr:function(t,a,e){e("gSvA"),t.exports=e("FeBl").Object.entries}});