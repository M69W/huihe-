webpackJsonp([314],{"01IT":function(t,e,a){"use strict";e.a={name:"userManage-keepAlive",data:function(){var o=this,i=this;return{formData:{userName:"",loginAccount:""},reviseData:{loginAccount:"",phone:"",userName:""},editData:{loginAccount:"",phone:"",userName:"",authCode:"",loginPwd:"",loginNewPwd:""},page:1,rule:{phone:[{validator:function(t,e,a){""==e?a(new Error("请输入手机号码")):/^1[34578]\d{9}$/.test(e)?a():a(new Error("请输入正确手机号码"))},required:!0}],loginAccount:[{required:!0,message:"请输入登陆账号"}],userName:[{required:!0,message:"请输入用户姓名"}],authCode:[{required:!0,message:"请输入验证码"}],loginPwd:[{validator:function(t,e,a){""==e?a(new Error("请输入密码")):(""!==o.editData.loginNewPwd&&o.$refs.form.validateField("loginNewPwd"),a())},required:!0}],loginNewPwd:[{validator:function(t,e,a){""==e?a(new Error("请再次输入密码")):e!=o.editData.loginPwd?a(new Error("两次密码不一致")):a()},required:!0}]},pageNum:0,pageSize:10,reviseStatus:!1,editStatus:!1,selectUserId:"",codeMsg:"发送",disabledStatus:!1,columns1:[{title:"用户ID",key:"userId",align:"center"},{title:"用户姓名",key:"userName",align:"center"},{title:"登陆账号",key:"loginAccount",align:"center"},{title:"手机号码",key:"phone",align:"center"},{title:"状态",key:"status",align:"center",render:function(t,e){return o.Global.ENUMS.userStauts[e.row.status]}},{title:"创建时间",key:"createTime",align:"center",render:function(t,e){return o.Global.createTime(e.row.createTime)}},{title:"操作",key:"action",width:180,align:"center",render:function(t,e){var a={};return 1==e.row.status?(a.txt="锁定",a.type="primary",a.content="用户将被锁定",a.status=2):2==e.row.status&&(a.txt="恢复",a.type="success",a.content="用户将被恢复",a.status=1),t("div",[t("Button",{props:{type:a.type,size:"small"},style:{marginRight:"5px"},on:{click:function(){o.$Modal.confirm({title:"警告",content:a.content,onOk:function(){i.userBlack(e.row.userId,a.status)}})}}},a.txt),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){o.selectUserId=e.row.userId,o.showMemo()}}},"修改")])}}],pageData:[]}},created:function(){this.init()},methods:{submit:function(t){this.page=1,this.init()},changePage:function(t){this.page=t,this.init()},init:function(){var e=this,t=this.Global.JsonChange(this.formData);this.Global.deleteEmptyProperty(t),t.currentPage=this.page,t.pageSize=this.pageSize,this.Global.doPost("admin/doQueryWithPage.json",t,function(t){e.pageNum=t.items,e.pageData=t.datalist})},userBlack:function(t,e){var a=this;this.Global.doPost("admin/setAdminStatus.json",{userId:t,status:e},function(t){a.init()})},showMemo:function(){var e=this;this.reviseStatus=!0,this.reviseStatus&&this.Global.doPost("admin/doGet.json",this.selectUserId,function(t){e.reviseData.userName=t.userName,e.reviseData.phone=t.phone,e.reviseData.loginAccount=t.loginAccount})},ok:function(){this.getUserMemo(this.selectUserId)},getUserMemo:function(t){var e=this;this.Global.doPost("admin/doUpdate.json",{userId:t,phone:this.reviseData.phone,userName:this.reviseData.userName,loginAccount:this.reviseData.loginAccount},function(){e.reviseStatus=!1,e.init()})},editNew:function(){this.editStatus=!this.editStatus},editSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.editNewInit():e.$Message.error("请选择查询条件!!")})},editNewInit:function(){var e=this,t=this.Global.JsonChange(this.editData);this.Global.deleteEmptyProperty(t),t.loginPwd=this.Global.Md5(t.loginPwd),t.loginNewPwd=this.Global.Md5(t.loginNewPwd),t.userType="V",this.Global.doPost("admin/doSave.json",t,function(t){e.editStatus=!e.editStatus,e.init()})},sendMsg:function(){var e=this,t=this.editData.phone;if(!/^1[34578]\d{9}$/.test(t))return this.$Message.error("请输入正确的手机号"),!1;this.disabledStatus=!0;this.Global.sendMsg(t,"user_complate",function(){e.Global.TimeDown(60,function(t){e.codeMsg=t+"S"},function(){e.disabledStatus=!1,e.codeMsg="发送"})})}}}},"H/lU":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("01IT"),i=a("KV0X");var n=function(t){a("hzSB")},r=a("VU/8")(o.a,i.a,!1,n,"data-v-10d129ce",null);e.default=r.exports},KV0X:function(t,e,a){"use strict";var o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Main"}},[a("div",{staticClass:"box"},[a("Form",{ref:"form",attrs:{model:e.formData,"label-width":60}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("Form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("Input",{model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName","string"==typeof t?t.trim():t)},expression:"formData.userName"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"6",offset:"1"}},[a("Form-item",{attrs:{label:"登陆账号",prop:"loginAccount"}},[a("Input",{model:{value:e.formData.loginAccount,callback:function(t){e.$set(e.formData,"loginAccount","string"==typeof t?t.trim():t)},expression:"formData.loginAccount"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"4",offset:"1"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form")}}},[e._v("查询")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:e.editNew}},[e._v("新建")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"box",staticStyle:{"margin-top":"30px","padding-bottom":"20px"}},[a("Table",{attrs:{columns:e.columns1,data:e.pageData,"disabled-hover":""}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.pageNum,current:e.page},on:{"on-change":e.changePage}})],1)])],1),e._v(" "),a("Modal",{attrs:{title:"修改",loading:"","ok-text":"保存"},on:{"on-ok":e.ok},model:{value:e.reviseStatus,callback:function(t){e.reviseStatus=t},expression:"reviseStatus"}},[a("Form",{attrs:{model:e.reviseData,"label-width":60}},[a("Form-item",{attrs:{label:"登录名",prop:"loginAccount"}},[a("Input",{attrs:{placeholder:"登录名"},model:{value:e.reviseData.loginAccount,callback:function(t){e.$set(e.reviseData,"loginAccount",t)},expression:"reviseData.loginAccount"}})],1),e._v(" "),a("Form-item",{attrs:{label:"姓名",prop:"userName"}},[a("Input",{attrs:{placeholder:"请输入姓名"},model:{value:e.reviseData.userName,callback:function(t){e.$set(e.reviseData,"userName",t)},expression:"reviseData.userName"}})],1),e._v(" "),a("Form-item",{attrs:{label:"登陆账号",prop:"phone"}},[a("Input",{attrs:{placeholder:"请输入手机号"},model:{value:e.reviseData.phone,callback:function(t){e.$set(e.reviseData,"phone",t)},expression:"reviseData.phone"}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{title:"新增",loading:"","ok-text":"提交","mask-closable":!1},on:{"on-ok":e.ok},model:{value:e.editStatus,callback:function(t){e.editStatus=t},expression:"editStatus"}},[a("Form",{ref:"form",attrs:{model:e.editData,"label-width":80,rules:e.rule}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"登录账号",prop:"loginAccount"}},[a("Input",{attrs:{placeholder:"登录账号"},model:{value:e.editData.loginAccount,callback:function(t){e.$set(e.editData,"loginAccount",t)},expression:"editData.loginAccount"}})],1),e._v(" "),a("Form-item",{attrs:{label:"登陆账号",prop:"phone"}},[a("Input",{attrs:{placeholder:"请输入手机号"},model:{value:e.editData.phone,callback:function(t){e.$set(e.editData,"phone",t)},expression:"editData.phone"}})],1),e._v(" "),a("Form-item",{attrs:{label:"密码",prop:"loginPwd"}},[a("Input",{attrs:{placeholder:"再次输入密码"},model:{value:e.editData.loginPwd,callback:function(t){e.$set(e.editData,"loginPwd",t)},expression:"editData.loginPwd"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("Input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.editData.userName,callback:function(t){e.$set(e.editData,"userName",t)},expression:"editData.userName"}})],1),e._v(" "),a("Form-item",{attrs:{label:"验证码",prop:"authCode"}},[a("Row",[a("Col",{attrs:{span:"15"}},[a("Input",{attrs:{placeholder:"请输入验证码"},model:{value:e.editData.authCode,callback:function(t){e.$set(e.editData,"authCode",t)},expression:"editData.authCode"}})],1),e._v(" "),a("Col",{attrs:{offset:"1",span:"8"}},[a("Button",{attrs:{type:"primary",disabled:e.disabledStatus},on:{click:e.sendMsg}},[e._v(e._s(e.codeMsg))])],1)],1)],1),e._v(" "),a("Form-item",{attrs:{label:"确认密码",prop:"loginNewPwd"}},[a("Input",{attrs:{placeholder:"请输入密码"},model:{value:e.editData.loginNewPwd,callback:function(t){e.$set(e.editData,"loginNewPwd",t)},expression:"editData.loginNewPwd"}})],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.editSubmit("form")}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};e.a=o},Sf1v:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'.box[data-v-10d129ce]{padding:0;min-width:1135px}button[data-v-10d129ce]{outline:none;list-style:none;border:0;cursor:pointer}button#success[data-v-10d129ce]{color:#19be6b;background:transparent}button#fail[data-v-10d129ce]{color:#ed3f14;background:transparent}button#primary[data-v-10d129ce]{color:#ff8a34;background:transparent}button.down[data-v-10d129ce],button.up[data-v-10d129ce]{color:#ff8a34}button.down[data-v-10d129ce]:after{content:"\\F116"}button.up[data-v-10d129ce]:after{content:"\\F124"}#bottonFather[data-v-10d129ce]{display:flex;justify-content:center;align-items:center}.lookDetail[data-v-10d129ce]{background:#febf00;border-color:#febf00;color:#fff}.ml20[data-v-10d129ce]{margin-left:20px}.w18[data-v-10d129ce]{width:17.5%}.w10[data-v-10d129ce]{width:12.5%}.w36[data-v-10d129ce]{width:35%}.fs12[data-v-10d129ce]{font-size:12px}.fs14[data-v-10d129ce]{font-size:14px}.fs16[data-v-10d129ce]{font-size:16px}.fs28[data-v-10d129ce]{font-size:28px}.text-center[data-v-10d129ce]{text-align:center}.block[data-v-10d129ce]{display:block}.container[data-v-10d129ce]:after{display:block;clear:both;content:"";visibility:hidden;height:0}.container[data-v-10d129ce]{zoom:1}.text-overflow[data-v-10d129ce]{display:inline-block;max-width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}input[data-v-10d129ce]::-ms-input-placeholder{text-align:center!important}input[data-v-10d129ce]::-webkit-input-placeholder{text-align:center!important}.displayGroupPrimary[data-v-10d129ce]{color:#ff8a34}.demo-spin-icon-load[data-v-10d129ce]{animation:ani-demo-spin-data-v-10d129ce 1s linear infinite}@keyframes ani-demo-spin-data-v-10d129ce{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}#Main[data-v-10d129ce]{height:100%}#Main .main-container[data-v-10d129ce]{padding-top:10px;min-height:100%;position:relative;background:#fff;padding-bottom:60px;min-width:1135px}#Main .main-container .page-box[data-v-10d129ce]{overflow:hidden;position:absolute;bottom:10px;right:10px}#Main .main-container .searchBox[data-v-10d129ce]{overflow:hidden}#Main .main-container .searchBox .search-left[data-v-10d129ce],#Main .main-container .searchBox .search-right[data-v-10d129ce]{width:48%}#Main .main-container .searchBox .search-left button[data-v-10d129ce]{outline:none;border:none;width:60px;height:30px;line-height:30px;background:#fff;margin-left:8px;cursor:pointer;color:#ff8a34}#Main .main-container .searchBox .search-right[data-v-10d129ce]{width:52%}#Main .main-container .searchBox .search-right img[data-v-10d129ce]{cursor:pointer;margin-left:6px}#Main .main-container .numColor[data-v-10d129ce]{color:#ff8a34}#Main[data-v-10d129ce]{padding:15px}.box[data-v-10d129ce]{width:100%;box-shadow:0 0 10px 2px rgba(0,0,0,.1);margin:0 auto;padding:30px 20px;padding-bottom:0;background:#fff}.ivu-table-row[data-v-10d129ce]{box-shadow:0 0 5px 2px rgba(0,0,0,.1)!important;transform:translateY(0)}.time[data-v-10d129ce]{float:left;padding:0 10px;border:1px solid #ff8a34;margin-right:10px;cursor:pointer}.select[data-v-10d129ce]{background:#ff8a34;color:#fff}.Title[data-v-10d129ce]{text-indent:1%;padding-bottom:15px;font-size:16px}.export[data-v-10d129ce]{height:24px;position:relative}.export div[data-v-10d129ce]{border:1px solid #ff8a34;padding:3px 12px;float:right;border-bottom:0;position:absolute;right:1px;bottom:-1px;color:#ff8a34;cursor:pointer}.export div i[data-v-10d129ce]{margin-right:2px}',""])},hzSB:function(t,e,a){var o=a("Sf1v");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("2fb31fd8",o,!0,{})}});